技能实现的代码会先从单位上获取技能。\
分为部队的（棋子），将领的（给棋子加上的人物单位），光环的（其他效果），等等等等。\
然后loop thru其所有拿到的技能。\
而技能分为不同的frame，用几个frame合并达成一个效果。\
比如技能A需要\
Frame1：增加攻击力50。\
Frame2：增加防御力50。

技能基本在frame内做出效果，包括【触发时机】【触发对象筛选】【触发条件】【效果】\
有些技能更复杂，在一个frame定义一个标记，再其他frame去读取它。\
这个结构我觉得是make sense的。

大部分运作流程都是把东西整理好然后放入这样的chain去跑。\
这个chain分为，
 - GetValueFromExpression
 - handlePiecesSkill
得到数的，和更改属性的   
 - isSkillEffectTriggerCmpt


其中有一个handleSkillData（会更改属性的地方），其中触发的效果是【再来一回合】。\
在代码中会清空一次curMainSkillDic，如果有其他作为主动技能的技能会被清除掉，在同一组loop中，同个回合，后来的主动技能被清楚掉了而没法触发。\
所以作为技能得\
```
// 1.最后一个触发 - 这个把技能和frame分开来loop的方式很难排序
// 2.先不清空，等所有技能结束后再清空 - 写在哪里？
//如果不清空，追加攻击时会连带其他的主动技能再被触发
//策划说改成其他主动技能用buff的方式实现看看
```

咦，看了一下其他的项目同类的触发类型没有动到curMainSkillDic -> 是否会出问题？不知道。\
个人偏好1吧。
